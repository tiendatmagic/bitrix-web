{"version":3,"file":"toolbar-component.bundle.map.js","names":["this","BX","exports","main_core_events","ui_buttons","crm_router","main_popup","ui_hint","main_core","ui_navigationpanel","namespace","Reflection","instance","ToolbarEvents","babelHelpers","classCallCheck","defineProperty","ToolbarComponent","_EventEmitter","inherits","_this","possibleConstructorReturn","getPrototypeOf","call","initHints","setEventNamespace","Event","ready","bindEvents","bind","assertThisInitialized","createClass","key","value","UI","Hint","init","popupParameters","closeByEsc","autoHide","angle","offset","offsetLeft","_this2","buttonNode","document","querySelector","toolbar","ToolbarManager","getDefaultToolbar","button","getButton","Dom","attr","entityTypeId","Number","dataset","subscribeCategoriesUpdatedEvent","reloadCategoriesMenu","categoryId","emitTypeUpdatedEvent","data","emit","TYPE_UPDATED","emitCategoriesUpdatedEvent","CATEGORIES_UPDATED","subscribeTypeUpdatedEvent","callback","subscribe","_this3","menu","getMenuWindow","ajax","runAction","then","response","startKey","items","categories","menuItems","forEach","item","id","indexOf","push","options","destroy","unbindAll","getContainer","category","link","CrmEntityType","enumeration","deal","Router","Instance","getItemListUrlInCurrentView","toString","splice","text","Text","encode","name","href","setText","params","menuWindow","Menu","show","reloadAddButtonMenu","console","log","errors","_this4","addButtonNode","addButtonId","btnUniqid","menuItemsIds","getMenuItems","map","filter","Type","isInteger","categoryIds","idsToRemove","includes","newCategories","length","idToRemove","removeMenuItem","targetItemId","isString","at","addMenuItem","onclick","event","SidePanel","open","getSettingsButton","_i","_Object$entries","Object","entries","getButtons","_Object$entries$_i","slicedToArray","getIcon","ButtonIcon","SETTING","get","window","top","getClass","Crm","EventEmitter","_classPrivateFieldInitSpec","obj","privateMap","_checkPrivateRedeclaration","set","privateCollection","has","TypeError","namespace$1","_id","WeakMap","_binding","NavigationBar","_NavigationPanel","isPlainObject","isArray","hasOwnProperty","active","isActive","isStringFilled","lockedCallback","locked","url","events","click","eval","openUrl","target","writable","classPrivateFieldSet","binding","itemId","classPrivateFieldGet","formatDate","Date","userOptions","save","setTimeout","location","NavigationPanel","Main"],"sources":["toolbar-component.bundle.js"],"mappings":"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"}